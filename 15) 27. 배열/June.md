# 배열

# 27.2 자바스크립트 배열은 배열이 아니다.

장단점

- 일반적인 배열은 인덱스로 요소에 빠르게 접근할 수 있다. 하지만 특정 요소를 검색하거나 요소를 삽입 또는 삭제하는 경우에는 효율적이지 않다.

- 자바스크립트 배열은 해시 테이블로 구현된 객체이므로 인덱스로 요소에 접근하는 경우 일반적인 배열보다 성능적인 면에서 느릴 수 밖에 없는 구조적인 단점이 있다. 하지만 특정 요소를 검색, 삽입, 삭제 같은 경우에는 일반적인 경우보다 빠를 수도 있다.

# 27.3 length와 희소 배열

- empty는 실제로 추가된 배열의 요소가 아니다.

- 희소배열이라는 건 배열의 요소가 연속적으로 존재하지 않고 일부가 비어 있는 배열을 희소 배열이라고 한다.

# 27.4 배열 생성

- 희소 배열의 원소를 출력하면 undefined가 뜬다.

### []

### new Array()

### Array.of

> 인수들을 요소로 갖는 배열 생성

```javascript
Array.of(1); // [1]

Array.of(1, 2, 3); // [1, 2, 3]

Arrray.of("string"); // ['string']
```

### Array.from

# 27.5 배열 요소의 참조

- 존재하지 않는 요소를 참조하면 `undefined`가 반환된다.

# 27.6 배열 요소의 추가와 갱신

- length 프로퍼티 값보다 큰 인덱스로 새로운 요소를 추가하면 희소 배열이 된다.

```javascript
const arr = [0];

arr[100] = 100;

console.log(arr); // [0, empty x 98, 100];
```

# 27.7 배열 요소의 삭제

> 배열은 사실 객체라서 delete 연산자를 사용할 수 있다.

- delete 인덱스로 배열의 요소를 삭제하면 희소 배열이 된다.
- length에는 변화가 없다. 그래서 되도록이면 사용하지 말자.

# 27.8 배열 메서드

### Array.isArray

> 전달된 인수가 배열이면 true, 아니면 false

### Array.prototype.indexOf

> 원본 배열에서 인수로 전달된 요소를 검색해서 인덱스를 반환한다.

- 배열에 없으면 -1을 반환
- indexOf보다 ES7의 includes를 사용하면 가독성이 더 좋다.

### Array.prototype.concat

> 인수로 전달된 값들을 원본 배열의 마지막 요소로 추가한 배열을 반환하는 메서드

- push, unshift와는 다르게 배열을 반환하고, 원본 배열을 변환시키지 않는다.
- `push`, `unshift`, `concat` 메서드들 보다는 스프레드 문법을 일관성 있게 사용하자.

### Array.prototype.splice

> splice(시작 인덱스, 삭제할 요소의 개수, ...제거한 위치에 삽입할 요소 목록들);

- 반환값은 제거된 요소들의 목록이 반환값으로 나온다.
- 원본 배열을 바꾼다.

### Array.prototype.flat

> 인수로 전달한 깊이만큼 재귀적으로 배열을 평탄화한다.

# 27.9 배열 고차 함수

> 고차 함수는 함수를 인수로 전달받거나 함수를 반환하는 함수를 말한다.
> 자바스크립트의 함수는 일급 객체이므로 함수를 값처럼 인수로 전달하고, 반환할 수도 있다. 고차 함수는 외부 상태의 변경이나 가변 데이터를 피하고 불변성을 지향하는 함수형 프로그래밍에 기반을 두고 있다.

> 순수 함수를 통해 부수 효과를 최대한 억제하여 오류를 피하고 프로그램의 안정성을 높일 수 있다.

### Array.prototype.forEach

- for문과 달리 break, continue 문을 사용할 수 없다.
- 희소 배열의 경우 존재하지 않는 요소는 순회 대상에서 제외된다.
- map, filter, reduce 전부 마찬가지다.
- for문에 비해서 성능이 좋진 않지만, 가독성이 더 좋으므로 요소가 대단히 많은 배열을 순회하거나 시간이 많이 걸리는 복잡한 코드 또는 높은 성능이 필요한 경우가 아니면 for문 대신 forEach를 사용하자.

### Array.prototype.map

### Array.prototype.filter

> 콜백 함수의 반환값이 true인 요소로만 구성된 새로운 배열을 반환한다.

- filter는 요소가 같으면 전부 삭제되므로 하나만 삭제하고 싶다면 `indexOf` 메서드를 통해 인덱스를 취득하고, `splice` 메서드를 사용하자.

### Array.prototype.reduce

> 자신을 호출한 배열을 모든 요소를 순회하며 인수로 전달받은 콜백 함수를 반복 호출한다. 그리고 콜백 함수의 반환값을 다음 순회시 콜백 함수의 첫 번째 인수로 전달하면서 계쏙 콜백 함수를 호출하면서 하나의 결과값을 만들어서 반환한다.

reduce는 아래와 같은 상황에서 쓰일 수 있다.

- 평균 구하기
- 최대값 구하기
- 요소 중복 횟수 구하기
- 중첩 배열 평탄화
- 중복 요소 제거 (filter가 더 직관적)

reduce를 사용할 때는 초기값을 잘 넘겨주자.

### Array.prototype.some

> 배열의 요소를 순회하면서 전달된 콜백 함수에 반환값이 한 번이라도 true면 true, 아니면 false를 반환한다. 빈 배열이면 false를 반환한다.

### Array.prototype.every

> some과 다르게 전부 만족해야 true를 반환한다.
