## 8장 제어문

제어문을 사용하면 코드의 실행 흐름을 인위적으로 제어할 수 있다. 하지만 코드의 실행 순서가 변경된다는 것은 단순히 위에서 아래로 순차적으로 진행하는 직관적인 코드의 흐름을 혼란스럽게 만든다. 따라서 제어문을 사용하면 코드의 흐름을 해치기 때문에 가독성이 떨어질 수도 있는 단점이 있다. 물론 고차 함수(map, filter, forEach)등으로 제어문의 사용을 억제하여 복잡성을 해결할 수 있다. 하지만 이번 장에서는 고차 함수가 아닌 제어문을 바르게 이해하기 위해 for 문을 다룬다.

<br />

## 8.1 블록문

블록문은 0개 이상의 문을 중괄호로 묶은 것으로 코드 블럭이라고도 부른다. 그리고 자바스크립트는 이 블록문을 하나의 실행 단위로 취급한다. 그리고 주의해야 할 점은 보통 문의 끝에는 세미콜론을 붙이지만, 블록문은 자체만으로 종결성을 갖기 때문에 블록문의 끝에는 세미콜론을 붙이지 않는다.

<br />

## 8.2 조건문

조건문은 평과 결과에 따라 코드 블럭의 실행을 결정한다. 그리고 조건문안에 조건식은 불리언 값으로 평가될 수 있는 표현식이다. 자바스크립트에서는 if...else문과 switch문 두 가지 조건문을 제공한다.

```js
const num = 2;
if (num > 0) {
  // 조건식이 참이면 이 코드 블럭 실행 => 양수
} else if (num < 0) {
  // 조건식이 거짓이면 이 코드 블럭 실행 => 음수
} else {
  // 조건식, 조건식2가 거짓이면 이 코드 블럭 실행 => 숫자 영
}
```

위 부분은 삼항 연산자로도 표현할 수 있다.

```js
const num = 2;
const study = num ? (num > 0 ? "양수" : "음수") : "숫자 영";
```

하지만 조건에 따라 실행해야 할 내용이 복잡하여 여러 줄의 문이 필요하다면 if...else문이 가독성에 더 좋다고 책에서 설명하고 있다. 당장 위에 있는 코드만 보더라도 삼항 연산자는 가독성이 떨어진다. 개인적인 생각으로는 적어도 3개의 조건식이 필요하다면 if...else문을 사용하는 것이 좋다고 생각한다.

다음으로는 switch문이다. switch문의 표현식은 불리언 값보다는 문자열이나 숫자 값인 경우가 많다. 다시 말해, if...else문은 논리적인 참, 거짓으로 결정하고 switch는 다양한 상황(case)에 따라 실행할 코드 블럭을 결정한다.

```js
switch (표현식) {
  case 표현식1:
    // 표현식 === 표현식1일 때 실행
    break;
  case 표현식2:
    // 표현식 === 표현식2일 때 실행
    break;
  default:
  // 표현식이 표현식1, 표현식2랑 일치하는 게 없을 때 실행
  // default 에서는 break를 사용하지 않음
}
```

<br />

## 8.3 반복문

자바스크립트 반복문에는 for문, while문, do...while문 등이 있다. 그리고 반복문을 대체할 수 있는 기능으로는 forEach 메서드, 객체의 프로퍼티를 열거할 때 사용하는 for...in문, ES6에서 도입된 이터러블을 순회할 수 있는 for...of문 등이 있다.

<br />

## 9장 타입변환과 단축 평가

자바스크립트의 모든 값은 타입이 있다. 그리고 개발자가 의도적으로 타입을 변환하는 것을 명시적 타입 변환 또는 타입 캐스팅이라고 한다.

```js
const num = 10;

const str = num.toString();
// or String(num)

console.log(typeof str); // string
console.log(typeof num); // number
```

그리고 개발자의 의도와 상관없이 타입이 변하는 것을 암묵적 타입 변환 또는 타입 강제 변환이라고 한다.

```js
const num = 10;
const str = num + "";

console.log(typeof str, str); // string "10"
console.log(typeof num); // number
```

타입 변환이란 기존 원시 값을 사용해 다른 타입의 새로운 원시 값을 생성하는 것이다. 그래서 위의 코드에서 num + ""을 평가하기 위해 str에 num을 재할당하는 것이 아니라 num 자체를 암묵적 타입 변환을 통해 "10"으로 만든다. 그리고 자바스크립트는 "10" + ""을 평가하는 것이다. 그리고 평가 후 암묵적 타입 변환으로 사용된 "10"을 저장하고 그 어디에도 저장하지 않고 num의 값은 버려진다.

그렇다면 명시적 타입 변환만을 사용하고(개발자의 의도가 담긴 타입 변환) 암묵적 타입 변환은 사용하면 안되는 걸까? 책에서 나온 대로 암묵적 타입 변환이 가독성 측면에서 더 좋을 수도 있다. 다만 중요한 것은 코드를 예측할 수 있게 개발해야 한다는 것이다. 결국 이러한 코드 작성법은 동료가 정확히 이해할 수 있는 좋은 코드를 작성하기 위한 방법이라고 생각한다.
